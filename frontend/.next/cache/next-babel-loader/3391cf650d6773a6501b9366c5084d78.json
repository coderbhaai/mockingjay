{"ast":null,"code":"function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport swal from 'sweetalert';\n\nvar register = /*#__PURE__*/function (_Component) {\n  _inherits(register, _Component);\n\n  var _super = _createSuper(register);\n\n  function register(props) {\n    var _this;\n\n    _classCallCheck(this, register);\n\n    _this = _super.call(this, props);\n\n    _this.onChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.callSwal = function (mesg) {\n      swal({\n        title: mesg,\n        timer: 4000\n      });\n    };\n\n    _this.submitHandler = function (e) {\n      e.preventDefault();\n\n      if (_this.state.password != _this.state.password_confirmation) {\n        _this.callSwal(\"Password does not match\");\n      } else {\n        var data = {\n          username: _this.state.name,\n          email: _this.state.email,\n          role: _this.state.role,\n          password: _this.state.password\n        };\n        axios.post('http://127.0.0.1:8000/user/register/', data).then(function (res) {\n          console.log('res.data', res.data);\n\n          if (res.data) {\n            localStorage.setItem('user', JSON.stringify(res.data));\n            localStorage.setItem('message', \"Regsitration Succesful. Welcome !!!\");\n            window.location.href = '/';\n\n            _this.callSwal(\"Regsitration Succesful. Welcome !!!\");\n          }\n        })[\"catch\"](function (err) {\n          console.log('err', err); // if(err.response.data.email){ this.callSwal(err.response.data.email) }\n          // if(err.response.data.username){ this.callSwal(err.response.data.username) }\n        });\n      }\n    };\n\n    _this.state = {\n      name: 'amit1',\n      email: 'a@a.com',\n      role: 'user',\n      password: '123456789',\n      password_confirmation: '123456789',\n      last_login: ''\n    };\n    return _this;\n  }\n\n  _createClass(register, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.scrollTo(0, 0);\n\n      if (typeof Storage !== \"undefined\" && JSON.parse(localStorage.getItem('user'))) {\n        if (JSON.parse(localStorage.getItem('user')).role) {\n          window.location.href = '/';\n          localStorage.setItem('message', \"You are already Logged in\");\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container my-5\"\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"heading\"\n      }, \"Register\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"text-center\"\n      }, \"Register here\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-sm-6\"\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.submitHandler\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\"\n      }, /*#__PURE__*/React.createElement(\"label\", null, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"name\",\n        placeholder: \"Enter name\",\n        required: true,\n        autoComplete: \"name\",\n        autoFocus: true,\n        value: this.state.name,\n        onChange: this.onChange\n      })), /*#__PURE__*/React.createElement(\"select\", {\n        className: \"form-control\",\n        required: true,\n        value: this.state.role,\n        onChange: this.onChange,\n        name: \"role\"\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"user\"\n      }, \"User\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"agency\"\n      }, \"Marketing Agency\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"company\"\n      }, \"Company\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\"\n      }, /*#__PURE__*/React.createElement(\"label\", null, \"E-Mail Address\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"email\",\n        className: \"form-control\",\n        name: \"email\",\n        placeholder: \"Enter email\",\n        required: true,\n        autoComplete: \"email\",\n        value: this.state.email,\n        onChange: this.onChange\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\"\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"password\"\n      }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"password\",\n        className: \"form-control\",\n        name: \"password\",\n        placeholder: \"Enter Password\",\n        required: true,\n        autoComplete: \"new-password\",\n        value: this.state.password,\n        onChange: this.onChange\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\"\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"password-confirm\"\n      }, \"Confirm Password\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"password\",\n        className: \"form-control\",\n        name: \"password_confirmation\",\n        placeholder: \"Confirm Password\",\n        required: true,\n        autoComplete: \"new-password\",\n        value: this.state.password_confirmation,\n        onChange: this.onChange\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"amitBtn\"\n      }, \"Register\")))));\n    }\n  }]);\n\n  return register;\n}(Component);\n\nexport default register;","map":{"version":3,"sources":["E:/mockingjay/frontend/pages/register.js"],"names":["React","Component","axios","swal","register","props","onChange","e","setState","target","name","value","callSwal","mesg","title","timer","submitHandler","preventDefault","state","password","password_confirmation","data","username","email","role","post","then","res","console","log","localStorage","setItem","JSON","stringify","window","location","href","err","last_login","scrollTo","Storage","parse","getItem"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport swal from 'sweetalert'\r\n\r\nclass register extends Component {\r\n    constructor(props) {\r\n        super(props)    \r\n        this.state = {\r\n            name:                       'amit1',\r\n            email:                      'a@a.com',\r\n            role:                       'user',\r\n            password:                   '123456789',\r\n            password_confirmation:      '123456789',\r\n            last_login:                 '',\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        window.scrollTo(0, 0)\r\n        if(typeof(Storage) !== \"undefined\" && JSON.parse(localStorage.getItem('user'))){ \r\n            if( JSON.parse(localStorage.getItem('user')).role ){ \r\n                window.location.href = '/' \r\n                localStorage.setItem( 'message', \"You are already Logged in\" )\r\n            }\r\n        }\r\n    }\r\n    \r\n    onChange= (e) => { this.setState({ [e.target.name]: e.target.value }) }\r\n    callSwal=(mesg)=>{ swal({ title: mesg, timer: 4000 }) }\r\n\r\n    submitHandler = e => {\r\n        e.preventDefault()\r\n        if(this.state.password!= this.state.password_confirmation){\r\n            this.callSwal(\"Password does not match\")\r\n        }else{\r\n            const data={\r\n                username:                   this.state.name, \r\n                email:                      this.state.email,\r\n                role:                       this.state.role,\r\n                password:                   this.state.password\r\n            }\r\n            axios.post('http://127.0.0.1:8000/user/register/', data)\r\n            .then( res=>{\r\n                console.log('res.data', res.data)\r\n                if(res.data){\r\n                    localStorage.setItem('user', JSON.stringify(res.data))\r\n                    localStorage.setItem( 'message', \"Regsitration Succesful. Welcome !!!\" )\r\n                    window.location.href = '/'\r\n                    this.callSwal(\"Regsitration Succesful. Welcome !!!\")\r\n                }\r\n            })\r\n            .catch(err=>{\r\n                console.log('err', err)\r\n                // if(err.response.data.email){ this.callSwal(err.response.data.email) }\r\n                // if(err.response.data.username){ this.callSwal(err.response.data.username) }\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container my-5\">\r\n                <h1 className=\"heading\">Register</h1>\r\n                <p className=\"text-center\">Register here</p>\r\n                <div className=\"row\">\r\n                    <div className=\"col-sm-6\">\r\n                        <form onSubmit={this.submitHandler}>\r\n                            <div className=\"form-group\">\r\n                                <label>Name</label>\r\n                                <input type=\"text\" className=\"form-control\" name=\"name\" placeholder=\"Enter name\" required autoComplete=\"name\" autoFocus value={this.state.name} onChange={this.onChange}/>\r\n                            </div>\r\n                            <select className=\"form-control\" required value={this.state.role} onChange={this.onChange} name=\"role\">\r\n                                <option value=\"user\">User</option>\r\n                                <option value=\"agency\">Marketing Agency</option>\r\n                                <option value=\"company\">Company</option>\r\n                            </select>\r\n                            <div className=\"form-group\">\r\n                                <label>E-Mail Address</label>\r\n                                <input type=\"email\" className=\"form-control\" name=\"email\" placeholder=\"Enter email\" required autoComplete=\"email\" value={this.state.email} onChange={this.onChange}/>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"password\">Password</label>\r\n                                <input type=\"password\" className=\"form-control\" name=\"password\" placeholder=\"Enter Password\" required autoComplete=\"new-password\" value={this.state.password} onChange={this.onChange}/>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"password-confirm\">Confirm Password</label>\r\n                                <input type=\"password\" className=\"form-control\" name=\"password_confirmation\" placeholder=\"Confirm Password\" required autoComplete=\"new-password\" value={this.state.password_confirmation} onChange={this.onChange}/>\r\n                            </div>\r\n                            <button type=\"submit\" className=\"amitBtn\">Register</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default register"]},"metadata":{},"sourceType":"module"}