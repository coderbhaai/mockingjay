{"ast":null,"code":"function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport axios from 'axios';\nexport var login = /*#__PURE__*/function (_Component) {\n  _inherits(login, _Component);\n\n  var _super = _createSuper(login);\n\n  function login(props) {\n    var _this;\n\n    _classCallCheck(this, login);\n\n    _this = _super.call(this, props);\n\n    _this.onChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.submitHandler = function (e) {\n      e.preventDefault();\n      var data = {\n        username: _this.state.email,\n        password: _this.state.password\n      };\n      axios.post('http://127.0.0.1:8000/api/login/', data) // fetch('http://127.0.0.1:8000/auth/', {\n      //     method: 'POST',\n      //     headers: {'Content-Type': 'application/json'},\n      //     body:JSON.stringify(data)\n      // })\n      // .then(res=>res.json())\n      .then(function (res) {\n        if (res.data) {\n          localStorage.setItem('user', JSON.stringify(res.data));\n          localStorage.setItem('message', \"You are logged in\");\n          window.location.href = '/';\n\n          _this.callSwal(\"You are logged in\");\n        }\n      })[\"catch\"](function (err) {\n        console.log('err.response.data', err.response.data);\n      });\n    };\n\n    _this.state = {\n      email: 'amit4',\n      password: '123456789'\n    };\n    return _this;\n  }\n\n  _createClass(login, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container my-5\"\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"heading\"\n      }, \"Login\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"text-center\"\n      }, \"Login Here\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-sm-6\"\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.submitHandler\n      }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", null, \"E-Mail Address\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control\",\n        name: \"email\",\n        required: true,\n        placeholder: \"Email Please\",\n        onChange: this.onChange,\n        value: this.state.email\n      })), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", null, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"password\",\n        className: \"form-control\",\n        name: \"password\",\n        required: true,\n        placeholder: \"Password Please\",\n        onChange: this.onChange,\n        value: this.state.password\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"amitBtn\",\n        type: \"submit\"\n      }, \"Login\", /*#__PURE__*/React.createElement(\"span\", null))))));\n    }\n  }]);\n\n  return login;\n}(Component);\nexport default login;","map":{"version":3,"sources":["E:/mockingjay/frontend/pages/login.js"],"names":["React","Component","axios","login","props","onChange","e","setState","target","name","value","submitHandler","preventDefault","data","username","state","email","password","post","then","res","localStorage","setItem","JSON","stringify","window","location","href","callSwal","err","console","log","response"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,WAAaC,KAAb;AAAA;;AAAA;;AACI,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8BAAMA,KAAN;;AADe,UASnBC,QATmB,GAST,UAACC,CAAD,EAAO;AAAE,YAAKC,QAAL,qBAAiBD,CAAC,CAACE,MAAF,CAASC,IAA1B,EAAiCH,CAAC,CAACE,MAAF,CAASE,KAA1C;AAAoD,KATpD;;AAAA,UAWnBC,aAXmB,GAWH,UAAAL,CAAC,EAAG;AAChBA,MAAAA,CAAC,CAACM,cAAF;AACA,UAAMC,IAAI,GAAC;AACPC,QAAAA,QAAQ,EAAuB,MAAKC,KAAL,CAAWC,KADnC;AAEPC,QAAAA,QAAQ,EAAoB,MAAKF,KAAL,CAAWE;AAFhC,OAAX;AAIAf,MAAAA,KAAK,CAACgB,IAAN,CAAW,kCAAX,EAA+CL,IAA/C,EACA;AACA;AACA;AACA;AACA;AACA;AANA,OAOCM,IAPD,CAOM,UAAAC,GAAG,EAAG;AACR,YAAGA,GAAG,CAACP,IAAP,EAAY;AACRQ,UAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeJ,GAAG,CAACP,IAAnB,CAA7B;AACAQ,UAAAA,YAAY,CAACC,OAAb,CAAsB,SAAtB,EAAiC,mBAAjC;AACAG,UAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;;AACA,gBAAKC,QAAL,CAAc,mBAAd;AACH;AACJ,OAdD,WAcS,UAAAC,GAAG,EAAE;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCF,GAAG,CAACG,QAAJ,CAAanB,IAA9C;AACH,OAhBD;AAiBH,KAlCkB;;AAGf,UAAKE,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAuB,OADnB;AAETC,MAAAA,QAAQ,EAAoB;AAFnB,KAAb;AAHe;AAOlB;;AARL;AAAA;AAAA,6BAqCa;AACL,0BACI;AAAK,QAAA,SAAS,EAAC;AAAf,sBACI;AAAI,QAAA,SAAS,EAAC;AAAd,iBADJ,eAEI;AAAG,QAAA,SAAS,EAAC;AAAb,sBAFJ,eAGI;AAAK,QAAA,SAAS,EAAC;AAAf,sBACI;AAAK,QAAA,SAAS,EAAC;AAAf,sBACI;AAAO,QAAA,QAAQ,EAAE,KAAKN;AAAtB,sBACI,8CACI,oDADJ,eAEI;AAAO,QAAA,SAAS,EAAC,cAAjB;AAAgC,QAAA,IAAI,EAAC,OAArC;AAA6C,QAAA,QAAQ,MAArD;AAAsD,QAAA,WAAW,EAAC,cAAlE;AAAiF,QAAA,QAAQ,EAAE,KAAKN,QAAhG;AAA0G,QAAA,KAAK,EAAE,KAAKU,KAAL,CAAWC;AAA5H,QAFJ,CADJ,eAKI,8CACI,8CADJ,eAEI;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,SAAS,EAAC,cAAjC;AAAgD,QAAA,IAAI,EAAC,UAArD;AAAgE,QAAA,QAAQ,MAAxE;AAAyE,QAAA,WAAW,EAAC,iBAArF;AAAuG,QAAA,QAAQ,EAAE,KAAKX,QAAtH;AAAgI,QAAA,KAAK,EAAE,KAAKU,KAAL,CAAWE;AAAlJ,QAFJ,CALJ,eASI;AAAQ,QAAA,SAAS,EAAC,SAAlB;AAA4B,QAAA,IAAI,EAAC;AAAjC,+BAA+C,iCAA/C,CATJ,CADJ,CADJ,CAHJ,CADJ;AAsBH;AA5DL;;AAAA;AAAA,EAA2BhB,SAA3B;AA+DA,eAAeE,KAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\n\r\nexport class login extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    \r\n        this.state = {\r\n            email:                      'amit4',\r\n            password:                   '123456789'\r\n        }\r\n    }\r\n\r\n    onChange= (e) => { this.setState({ [e.target.name]: e.target.value }) }\r\n\r\n    submitHandler = e =>{\r\n        e.preventDefault()\r\n        const data={\r\n            username:                      this.state.email,\r\n            password:                   this.state.password,\r\n        }\r\n        axios.post('http://127.0.0.1:8000/api/login/', data )\r\n        // fetch('http://127.0.0.1:8000/auth/', {\r\n        //     method: 'POST',\r\n        //     headers: {'Content-Type': 'application/json'},\r\n        //     body:JSON.stringify(data)\r\n        // })\r\n        // .then(res=>res.json())\r\n        .then(res=> {\r\n            if(res.data){\r\n                localStorage.setItem('user', JSON.stringify(res.data))\r\n                localStorage.setItem( 'message', \"You are logged in\" )\r\n                window.location.href = '/'\r\n                this.callSwal(\"You are logged in\")\r\n            }\r\n        }).catch(err=>{\r\n            console.log('err.response.data', err.response.data)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container my-5\">\r\n                <h1 className=\"heading\">Login</h1>\r\n                <p className=\"text-center\">Login Here</p>\r\n                <div className=\"row\">\r\n                    <div className=\"col-sm-6\">\r\n                        <form  onSubmit={this.submitHandler}>\r\n                            <div>\r\n                                <label>E-Mail Address</label>\r\n                                <input className=\"form-control\" name=\"email\" required placeholder=\"Email Please\" onChange={this.onChange} value={this.state.email}/>\r\n                            </div>\r\n                            <div>\r\n                                <label>Password</label>\r\n                                <input type=\"password\" className=\"form-control\" name=\"password\" required placeholder=\"Password Please\" onChange={this.onChange} value={this.state.password}/>\r\n                            </div>\r\n                            <button className=\"amitBtn\" type=\"submit\">Login<span></span></button>\r\n                        </form>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default login"]},"metadata":{},"sourceType":"module"}